import{a as m}from"./chunk-ICYQ7GPO.js";import{$ as c,D as e,Ma as z,R as u,V as a,r as o}from"./chunk-A7BKTUOQ.js";var f=class s{http=c(m);constructor(){}quizzesSignal=z([]);quizzes=this.quizzesSignal.asReadonly();submit(t,r){let n=Object.fromEntries(Object.entries(t).map(([i,p])=>[i,Array.from(p)]));return this.http.post("/submissions",{answers:n,quizId:r}).pipe(e(i=>{throw"Error while fetching /submissions: "+i}))}fetchQuizzes(){return this.http.get("/quizzes").pipe(u(t=>{this.quizzesSignal.set(t)}))}fetchQuiz(t){return this.http.get(`/quizzes/${t}`).pipe(e(r=>{throw"Error while fetching /quizzes "+r}))}fetchSubmission(t){return this.http.get(`/submissions/${t}`).pipe(o(r=>(r.answers=this.transformToQuizAnswer(r.answers),r.correctAnswers=this.transformToQuizAnswer(r.correctAnswers),r)),e(r=>{throw"Error while fetching /submissions "+r}))}transformToQuizAnswer(t){let r={};for(let[n,i]of Object.entries(t))r[n]=new Set(i);return r}static \u0275fac=function(r){return new(r||s)};static \u0275prov=a({token:s,factory:s.\u0275fac,providedIn:"root"})};export{f as a};
