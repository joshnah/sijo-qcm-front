import{a as w}from"./chunk-RTGK32CX.js";import{a as k}from"./chunk-WOEHKPTP.js";import{f as E,h as T,i as D}from"./chunk-QDBR6KCD.js";import{Ia as s,Jb as Q,Pa as _,Sa as c,Xa as f,bb as p,ca as u,eb as b,gb as g,hb as h,ib as o,ja as x,jb as n,ka as z,kb as S,lb as y,nb as I,ob as l,t as v,va as C,xb as r,yb as m,zb as q}from"./chunk-I64YHXKP.js";var N=(t,i)=>i.id,j=t=>["/submissions",t];function R(t,i){if(t&1&&(o(0,"a",1)(1,"span"),r(2),n(),o(3,"span",2),r(4),n()()),t&2){let e=i.$implicit;p("routerLink",Q(3,j,e.id)),s(2),m(e.id),s(2),m(e.score)}}var d=class t{submissions=C.required();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["app-quiz-history"]],inputs:{submissions:[1,"submissions"]},decls:3,vars:0,consts:[[1,"list-group"],["aria-current","true",1,"list-group-item","list-group-item-action","d-flex","justify-content-between",3,"routerLink"],[1,"badge","bg-primary"]],template:function(e,a){e&1&&(o(0,"div",0),g(1,R,5,5,"a",1,N),n()),e&2&&(s(),h(a.submissions()))},dependencies:[D],encapsulation:2,changeDetection:0})};function V(t,i){if(t&1&&(o(0,"div")(1,"h4"),r(2,"Submission history"),n(),S(3,"app-quiz-history",7),n()),t&2){let e=l(2);s(3),p("submissions",e.submissions)}}function A(t,i){t&1&&(o(0,"h5",6),r(1,"You've never taken this quiz"),n())}function P(t,i){if(t&1){let e=y();o(0,"h5",2),r(1),n(),o(2,"p",3),r(3),n(),o(4,"p"),r(5),n(),o(6,"button",4),I("click",function(){x(e);let L=l();return z(L.start())}),r(7," TAKE THIS TEST "),n(),o(8,"div",5),f(9,V,4,1,"div")(10,A,2,0,"h5",6),n()}if(t&2){let e=l();s(),m(e.quiz.title),s(2),q("Category: ",e.quiz.category,""),s(2),m(e.quiz.explanation),s(4),b(e.submissions.length>0?9:10)}}function $(t,i){t&1&&(o(0,"div",1)(1,"span",8),r(2,"Loading..."),n()())}var H=class t{quiz;loading=_(!0);submissions=[];route=u(E);quizService=u(k);submissionService=u(w);router=u(T);ngOnInit(){let i=this.route.snapshot.paramMap.get("id");i&&v([this.quizService.fetchQuizInfo(i),this.submissionService.fetchSubmissionsIdList(i)]).subscribe(([e,a])=>{this.quiz=e,this.submissions=a,this.loading.set(!1)})}start(){this.router.navigate(["take"],{relativeTo:this.route})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=c({type:t,selectors:[["app-quiz-info"]],decls:3,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center","container","flex-column","gap-3"],["role","status",1,"spinner-border","text-primary"],[1,"mb-1"],[1,"mb-0","text-muted"],[1,"btn","btn-lg","btn-primary",3,"click"],[1,"mt-5","w-75","text-center"],[1,"text-muted"],[3,"submissions"],[1,"visually-hidden"]],template:function(e,a){e&1&&(o(0,"div",0),f(1,P,11,4)(2,$,3,0,"div",1),n()),e&2&&(s(),b(a.loading()?2:1))},dependencies:[d],encapsulation:2,changeDetection:0})};export{H as QuizInfoComponent};
