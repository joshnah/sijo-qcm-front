import{a}from"./chunk-L4DC4MBR.js";import{Pa as z,U as u,Y as n,ca as o,o as s}from"./chunk-PU24A2QT.js";var p=class e{http=o(a);quizzesSignal=z([]);quizzes=this.quizzesSignal.asReadonly();submit(i,t){return this.http.post("/submissions",{answers:this.getSerializedAnswers(i),quizId:t})}fetchQuizzes(){this.http.get("/quizzes").pipe(u(i=>{this.quizzesSignal.set(i)})).subscribe({error:i=>console.error("Error loading quizzes:",i)})}fetchFullQuizById(i){return this.http.get(`/quizzes/${i}`)}fetchQuizInfo(i){let t=this.quizzes().find(r=>r._id===i);return t?s(t):this.http.get(`/quizzes/${i}?type=info`)}fetchQuizWithQuestions(i){return this.http.get(`/quizzes/${i}?type=questions`)}createQuiz(i){return this.http.post("/quizzes",i)}updateQuiz(i){return this.http.put(`/quizzes/${i._id}`,i)}deleteQuiz(i){return this.http.delete(`/quizzes/${i._id}`)}getSerializedAnswers(i){return Object.fromEntries(Object.entries(i).map(([t,r])=>[t,Array.from(r)]))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"})};export{p as a};
