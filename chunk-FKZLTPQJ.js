import{a as j}from"./chunk-QD6735PX.js";import{a as N}from"./chunk-LCPV2XUX.js";import{a as F}from"./chunk-HFUMLTSQ.js";import{g as w,i as H,j as M}from"./chunk-PFJV3CQX.js";import{Ab as p,Bb as E,Gb as T,Hb as D,Ia as s,Ib as k,L as z,Lb as L,Pa as g,Ta as u,Ya as b,ca as m,cb as c,fb as v,ib as h,ja as S,jb as y,ka as C,kb as o,lb as n,mb as q,nb as I,pb as Q,qb as l,t as x,va as _,zb as a}from"./chunk-DDZ2KP6O.js";var G=(t,i)=>i.id,P=t=>["/submissions",t];function $(t,i){if(t&1&&(o(0,"a",1)(1,"span"),a(2),n(),o(3,"span",2),a(4),n()()),t&2){let e=i.$implicit;c("routerLink",L(3,P,e.id)),s(2),p(e.id),s(2),p(e.score)}}var d=class t{submissions=_.required();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-quiz-history"]],inputs:{submissions:[1,"submissions"]},decls:3,vars:0,consts:[[1,"list-group"],["aria-current","true",1,"list-group-item","list-group-item-action","d-flex","justify-content-between",3,"routerLink"],[1,"badge","bg-primary"]],template:function(e,r){e&1&&(o(0,"div",0),h(1,$,5,5,"a",1,G),n()),e&2&&(s(),y(r.submissions()))},dependencies:[M],encapsulation:2,changeDetection:0})};function K(t,i){if(t&1&&(o(0,"div")(1,"h4"),a(2,"Submission history"),n(),q(3,"app-quiz-history",6),n()),t&2){let e=l(2);s(3),c("submissions",e.submissions)}}function O(t,i){t&1&&(o(0,"h5",5),a(1,"You've never taken this quiz"),n())}function Y(t,i){if(t&1){let e=I();o(0,"h5",1),a(1),n(),o(2,"p",2),a(3),n(),o(4,"p"),a(5),n(),o(6,"button",3),Q("click",function(){S(e);let f=l();return C(f.start())}),a(7," TAKE THIS TEST "),n(),o(8,"div",4),b(9,K,4,1,"div")(10,O,2,0,"h5",5),n()}if(t&2){let e=l(),r=k(1);s(),p(r.title),s(2),E("Category: ",r.category,""),s(2),p(r.explanation),s(4),v(e.submissions.length>0?9:10)}}var R=class t{quizSignal=g(null);submissions=[];route=m(w);quizService=m(N);submissionService=m(j);router=m(H);spinner=m(F);ngOnInit(){let i=this.route.snapshot.paramMap.get("id");i&&(this.spinner.openGlobalSpinner(),x([this.quizService.fetchQuizInfo(i),this.submissionService.fetchSubmissionsIdList(i)]).pipe(z(()=>{this.spinner.closeGlobalSpinner()})).subscribe(([e,r])=>{this.quizSignal.set(e),this.submissions=r}))}start(){this.router.navigate(["take"],{relativeTo:this.route})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-quiz-info"]],decls:3,vars:2,consts:[[1,"d-flex","justify-content-center","align-items-center","container","flex-column","gap-3"],[1,"mb-1"],[1,"mb-0","text-muted"],[1,"btn","btn-lg","btn-primary",3,"click"],[1,"mt-5","w-75","text-center"],[1,"text-muted"],[3,"submissions"]],template:function(e,r){if(e&1&&(o(0,"div",0),T(1),b(2,Y,11,4),n()),e&2){s();let f=D(r.quizSignal());s(),v(f?2:-1)}},dependencies:[d],encapsulation:2,changeDetection:0})};export{R as QuizInfoComponent};
