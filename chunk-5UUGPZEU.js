import{a as ae}from"./chunk-Y3YM4HJZ.js";import{a as re}from"./chunk-RPDYWJNU.js";import{a as se}from"./chunk-TIUR7UPA.js";import{a as j}from"./chunk-Y3VK6ECA.js";import{a as oe}from"./chunk-HFUMLTSQ.js";import{A as N,H,I as X,J as Y,K as Z,L as ee,N as te,O as ne,P as ie,g as P,i as A,q as J,r as w,s as G,t as R,u as M,v as z,w as K,x as U,y as $}from"./chunk-PFJV3CQX.js";import{Bb as O,Db as g,Eb as p,Fb as _,Ia as d,L as k,Pa as F,Qa as L,Ta as E,Vb as D,Ya as S,a as x,ca as h,cb as v,fb as b,gb as B,ib as y,ja as u,jb as Q,ka as c,kb as i,lb as n,mb as q,nb as f,pb as C,qb as m,va as W,yb as I,zb as a}from"./chunk-DDZ2KP6O.js";var le={title:"Sum of Digits",description:"Given an integer n, return the sum of its digits.",testCases:[{input:"123",expectedOutput:"6"},{input:"456",expectedOutput:"15"},{input:"0",expectedOutput:"0"}],functionSignatures:[{language:"java",arguments:[{name:"n",type:"Integer"}],returnType:"int"}],functionName:"sumOfDigits"};var ge=(l,r)=>r.language,pe=(l,r)=>r.name;function _e(l,r){if(l&1){let e=f();i(0,"div",4)(1,"label"),a(2),n(),i(3,"div",0)(4,"label",1),a(5,"Input"),n(),i(6,"input",6),_("ngModelChange",function(t){let o=u(e).$implicit;return p(o.input,t)||(o.input=t),c(t)}),n()(),i(7,"div",0)(8,"label",1),a(9,"Expected Output"),n(),i(10,"input",7),_("ngModelChange",function(t){let o=u(e).$implicit;return p(o.expectedOutput,t)||(o.expectedOutput=t),c(t)}),n()(),i(11,"button",8),C("click",function(){let t=u(e).$index,o=m();return c(o.deleteTestCase(t))}),a(12," Delete Test Case "),n()()}if(l&2){let e=r.$implicit,s=r.$index;d(2),O("Test Case ",s+1,""),d(4),g("ngModel",e.input),d(4),g("ngModel",e.expectedOutput)}}function Ce(l,r){if(l&1){let e=f();i(0,"div",11)(1,"div",0)(2,"label",1),a(3,"Name"),n(),i(4,"input",20),_("ngModelChange",function(t){let o=u(e).$implicit;return p(o.name,t)||(o.name=t),c(t)}),n()(),i(5,"div",0)(6,"label",1),a(7,"Type"),n(),i(8,"select",12),_("ngModelChange",function(t){let o=u(e).$implicit;return p(o.type,t)||(o.type=t),c(t)}),i(9,"option",13),a(10,"Select argument type"),n(),i(11,"option",14),a(12,"int"),n(),i(13,"option",15),a(14,"Integer"),n(),i(15,"option",16),a(16,"String"),n(),i(17,"option",17),a(18,"Boolean"),n(),i(19,"option",18),a(20,"List<Integer>"),n(),i(21,"option",19),a(22,"List<String>"),n()()(),i(23,"button",8),C("click",function(){let t=u(e).$index,o=m().$index,V=m();return c(V.deleteArgument(o,t))}),a(24," Delete Argument "),n()()}if(l&2){let e=r.$implicit;d(4),g("ngModel",e.name),d(4),g("ngModel",e.type)}}function fe(l,r){if(l&1){let e=f();i(0,"div",4)(1,"label"),a(2),n(),i(3,"div",0)(4,"label",1),a(5,"Language"),n(),i(6,"input",9),_("ngModelChange",function(t){let o=u(e).$implicit;return p(o.language,t)||(o.language=t),c(t)}),n()(),i(7,"div",0)(8,"label",1),a(9,"Function Name"),n(),i(10,"input",10),_("ngModelChange",function(t){u(e);let o=m();return p(o.codingQuestion().functionName,t)||(o.codingQuestion().functionName=t),c(t)}),n()(),i(11,"div")(12,"h5"),a(13,"Arguments"),n(),y(14,Ce,25,2,"div",11,pe),i(16,"button",5),C("click",function(){let t=u(e).$index,o=m();return c(o.addArgument(t))}),a(17," Add Argument "),n()(),i(18,"div",0)(19,"label",1),a(20,"Return Type"),n(),i(21,"select",12),_("ngModelChange",function(t){let o=u(e).$implicit;return p(o.returnType,t)||(o.returnType=t),c(t)}),i(22,"option",13),a(23,"Select argument type"),n(),i(24,"option",14),a(25,"int"),n(),i(26,"option",15),a(27,"Integer"),n(),i(28,"option",16),a(29,"String"),n(),i(30,"option",17),a(31,"Boolean"),n(),i(32,"option",18),a(33,"List<Integer>"),n(),i(34,"option",19),a(35,"List<String>"),n()()()()}if(l&2){let e=r.$implicit,s=r.$index,t=m();d(2),O("Function Signature ",s+1,""),d(4),g("ngModel",e.language),d(4),g("ngModel",t.codingQuestion().functionName),d(4),Q(e.arguments),d(7),g("ngModel",e.returnType)}}var T=class l{codingQuestion=L.required();isEditing=W(!1);deleteTestCase(r){this.codingQuestion.update(e=>(e.testCases.splice(r,1),x({},e)))}addTestCase(){this.codingQuestion.update(r=>(r.testCases.push({input:"new input",expectedOutput:"new output"}),x({},r)))}addArgument(r){this.codingQuestion.update(e=>(e.functionSignatures[r].arguments.push({name:`arg${e.functionSignatures[r].arguments.length+1}`,type:"new type"}),x({},e)))}deleteArgument(r,e){this.codingQuestion.update(s=>{let t=s.functionSignatures[r].arguments;return t.splice(e,1),t.forEach((o,V)=>{o.name=`arg${V+1}`}),x({},s)})}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=E({type:l,selectors:[["app-coding-question-form"]],inputs:{codingQuestion:[1,"codingQuestion"],isEditing:[1,"isEditing"]},outputs:{codingQuestion:"codingQuestionChange"},decls:19,vars:2,consts:[[1,"mb-2"],[1,"form-label"],["type","text","placeholder","Enter Question Title",1,"form-control",3,"ngModelChange","ngModel"],["rows","3","placeholder","Enter Question Description",1,"form-control",3,"ngModelChange","ngModel"],[1,"border","p-3","mb-3"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["type","text","placeholder","Enter Test Case Input",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter Expected Output",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],["type","text","placeholder","Enter Language",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter Function Name",1,"form-control",3,"ngModelChange","ngModel"],[1,"border","p-3","mb-2"],["aria-label","Select argument type",1,"form-select",3,"ngModelChange","ngModel"],["selected","","disabled",""],["value","int"],["value","Integer"],["value","String"],["value","Boolean"],["value","List<Integer>"],["value","List<String>"],["type","text","placeholder","Enter Argument Name",1,"form-control",3,"ngModelChange","ngModel"]],template:function(e,s){e&1&&(i(0,"div")(1,"div",0)(2,"label",1),a(3,"Title"),n(),i(4,"input",2),_("ngModelChange",function(o){return p(s.codingQuestion().title,o)||(s.codingQuestion().title=o),o}),n()(),i(5,"div",0)(6,"label",1),a(7,"Description"),n(),i(8,"textarea",3),_("ngModelChange",function(o){return p(s.codingQuestion().description,o)||(s.codingQuestion().description=o),o}),n()(),i(9,"h4"),a(10,"Test Cases"),n(),y(11,_e,13,3,"div",4,B),i(13,"button",5),C("click",function(){return s.addTestCase()}),a(14," Add Test Case "),n(),i(15,"h4"),a(16,"Function Signatures"),n(),y(17,fe,36,4,"div",4,ge),n()),e&2&&(d(4),g("ngModel",s.codingQuestion().title),d(4),g("ngModel",s.codingQuestion().description),d(3),Q(s.codingQuestion().testCases),d(6),Q(s.codingQuestion().functionSignatures))},dependencies:[N,U,$,J,K,w,M],encapsulation:2,changeDetection:0})};function xe(l,r){if(l&1){let e=f();i(0,"div",3)(1,"h3",4),a(2,"Edit coding question"),n(),i(3,"div")(4,"button",5),C("click",function(){u(e);let t=m();return c(t.reset())}),a(5,"Reset"),n()()()}}function Se(l,r){l&1&&(i(0,"h3"),a(1,"Create new coding question"),n())}function he(l,r){if(l&1){let e=f();i(0,"button",14),C("click",function(){u(e);let t=m(3);return c(t.delete())}),a(1," Delete codingQuestion "),n(),i(2,"button",15),C("click",function(){u(e);let t=m(3);return c(t.save())}),a(3,"Save"),n()}}function ve(l,r){if(l&1){let e=f();i(0,"button",15),C("click",function(){u(e);let t=m(3);return c(t.create())}),a(1,"Create"),n()}}function be(l,r){if(l&1){let e=f();i(0,"app-coding-question-form",11),_("codingQuestionChange",function(t){u(e);let o=m(2);return p(o.question,t)||(o.question=t),c(t)}),n(),i(1,"div",12),S(2,he,4,0)(3,ve,2,0,"button",13),n()}if(l&2){let e=m(2);g("codingQuestion",e.question),d(2),b(e.isEditing?2:3)}}function Ee(l,r){if(l&1){let e=f();i(0,"div",16)(1,"ngx-monaco-editor",17),_("ngModelChange",function(t){u(e);let o=m(2);return p(o.jsonQuestion,t)||(o.jsonQuestion=t),c(t)}),n()(),i(2,"button",18),C("click",function(){u(e);let t=m(2);return c(t.checkJson())}),a(3," Check JSON "),n()}if(l&2){let e=m(2);d(),g("ngModel",e.jsonQuestion),v("options",e.editorOptions)}}function ye(l,r){if(l&1){let e=f();i(0,"form",19),C("ngSubmit",function(){u(e);let t=I(5),o=m(3);return c(o.generateQuestion(t.value))}),i(1,"div",20)(2,"label",21),a(3,"This question is about..."),n(),q(4,"input",22,1),n(),i(6,"button",23),a(7," Generate "),n()()}}function Qe(l,r){l&1&&(i(0,"li",7)(1,"a",8),a(2,"AI generator"),n(),S(3,ye,8,0,"ng-template",9),n()),l&2&&v("ngbNavItem",3)}function we(l,r){if(l&1){let e=f();i(0,"ul",6,0),_("activeIdChange",function(t){u(e);let o=m();return p(o.active,t)||(o.active=t),c(t)}),C("navChange",function(t){u(e);let o=m();return c(o.onTabChange(t))}),i(2,"li",7)(3,"a",8),a(4,"Form Input"),n(),S(5,be,4,2,"ng-template",9),n(),i(6,"li",7)(7,"a",8),a(8,"JSON Editor"),n(),S(9,Ee,4,2,"ng-template",9),n(),S(10,Qe,4,1,"li",7),n(),q(11,"div",10)}if(l&2){let e=I(1),s=m();g("activeId",s.active),d(2),v("ngbNavItem",1),d(4),v("ngbNavItem",2),d(4),b(s.isEditing?-1:10),d(),v("ngbNavOutlet",e)}}var de=class l{route=h(P);router=h(A);alertService=h(j);spinnerService=h(oe);questionBase;codingQuestionService=h(se);active=F(1);question=F(le);jsonQuestion=D(()=>JSON.stringify(this.question(),null,2));editorOptions=ae;ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r&&this.fetchQuestion(r)}fetchQuestion(r){this.codingQuestionService.fetchCodingQuestion(r).subscribe(e=>{this.question.set(e),this.questionBase=e})}reset(){this.questionBase&&this.question.set(this.questionBase)}delete(){this.codingQuestionService.deleteCodingQuestion(this.question()).subscribe(()=>{this.router.navigate(["/coding-questions"]),this.alertService.setMessage({message:"Question has been deleted",type:"success"})})}create(){this.codingQuestionService.createCodingQuestion(this.question()).subscribe(()=>{this.router.navigate(["/coding-questions"]),this.alertService.setMessage({message:"Coding question has been created",type:"success"})})}save(){this.codingQuestionService.updateCodingQuestion(this.question()).subscribe(()=>{this.alertService.setMessage({message:"Question has been updated",type:"success"}),this.router.navigate(["/coding-questions"])})}checkJson(){try{this.question.set(JSON.parse(this.jsonQuestion()))}catch{return this.alertService.setMessage({message:"Invalid JSON format. Please correct it.",type:"danger"}),!1}return this.alertService.setMessage({message:"JSON is valid",type:"success"}),!0}generateQuestion(r){this.spinnerService.openGlobalSpinner(),this.codingQuestionService.generateQuestion(r).pipe(k(()=>{this.spinnerService.closeGlobalSpinner(),this.alertService.setMessage({message:"Quiz has been generated",type:"success"})})).subscribe(e=>{this.jsonQuestion.set(JSON.stringify(e,null,2)),this.active.set(2)})}onTabChange(r){r.nextId===1&&!this.checkJson()?r.preventDefault():r.nextId===2&&this.question.set(x({},this.question()))}get isEditing(){return!!this.route.snapshot.paramMap.get("id")}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=E({type:l,selectors:[["app-coding-question-edit"]],decls:4,vars:2,consts:[["nav","ngbNav"],["topics",""],[1,"container","mt-3"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"m-0"],[1,"btn","btn-primary",3,"click"],["ngbNav","",1,"nav","nav-tabs",3,"activeIdChange","navChange","activeId"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-3",3,"ngbNavOutlet"],[3,"codingQuestionChange","codingQuestion"],[1,"d-flex","justify-content-end","mt-4"],[1,"btn","btn-success"],[1,"btn","btn-outline-danger","me-2",3,"click"],[1,"btn","btn-success",3,"click"],[1,"editor-container"],["aria-label","JSON question Editor",1,"json-editor",3,"ngModelChange","ngModel","options"],[1,"mt-3","btn","btn-primary",3,"click"],[3,"ngSubmit"],[1,"form-group"],["for","topics"],["type","text","id","topics","aria-describedby","topics","placeholder","quesiton topics","value","Binary tree",1,"form-control"],["type","submit",1,"btn","btn-primary","mt-3"]],template:function(e,s){e&1&&(i(0,"div",2),S(1,xe,6,0,"div",3)(2,Se,2,0,"h3")(3,we,12,5),n()),e&2&&(d(),b(s.isEditing?1:2),d(2),b(s.question()?3:-1))},dependencies:[N,z,w,G,M,R,ie,H,Z,Y,X,te,ee,ne,re,T],styles:[".editor-container[_ngcontent-%COMP%]{height:calc(100vh - 300px)}.json-editor[_ngcontent-%COMP%]{height:100%;width:100%;display:block}"],changeDetection:0})};export{de as CodingQuestionEditComponent};
