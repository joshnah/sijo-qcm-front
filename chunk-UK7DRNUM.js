import{a,b as p}from"./chunk-HB4LE65O.js";import{Pa as o,U as n,Y as u,ca as z,o as r}from"./chunk-I64YHXKP.js";var Q=class s{http=z(p);quizzesSignal=o([]);quizzes=this.quizzesSignal.asReadonly();submit(i,t){return this.http.post("/submissions",{answers:this.getSerializedAnswers(i),quizId:t})}fetchQuizzes(){this.http.get("/quizzes").pipe(n(i=>{this.quizzesSignal.set(i)})).subscribe({error:i=>console.error("Error loading quizzes:",i)})}fetchFullQuizById(i){return this.http.get(`/quizzes/${i}`)}generateQuiz(i,t){let e=new a().set("topics",i).set("nbQuestions",t);return this.http.get("/quizzes/generate",{params:e})}fetchQuizInfo(i){let t=this.quizzes().find(e=>e._id===i);return t?r(t):this.http.get(`/quizzes/${i}?type=info`)}fetchQuizWithQuestions(i){return this.http.get(`/quizzes/${i}?type=questions`)}createQuiz(i){return this.http.post("/quizzes",i)}updateQuiz(i){return this.http.put(`/quizzes/${i._id}`,i)}deleteQuiz(i){return this.http.delete(`/quizzes/${i._id}`)}getSerializedAnswers(i){return Object.fromEntries(Object.entries(i).map(([t,e])=>[t,Array.from(e)]))}static \u0275fac=function(t){return new(t||s)};static \u0275prov=u({token:s,factory:s.\u0275fac,providedIn:"root"})};export{Q as a};
