"use strict";(self.webpackChunksijo_qcm_front=self.webpackChunksijo_qcm_front||[]).push([[649],{5649:(g,u,a)=>{a.r(u),a.d(u,{SubmissionComponent:()=>F});var n=a(4438),d=a(593),_=a(7681);const l=(i,e)=>e.id;function m(i,e){1&i&&(n.j41(0,"span",9),n.EFF(1," \u274c "),n.k0s())}function p(i,e){1&i&&(n.j41(0,"span",10),n.EFF(1," \u2713 "),n.k0s())}function b(i,e){if(1&i&&(n.SS7(0)(1),n.j41(2,"div",6),n.nrm(3,"input",7),n.j41(4,"label",8),n.EFF(5),n.k0s(),n.DNE(6,m,2,0,"span",9)(7,p,2,0,"span",10),n.k0s()),2&i){const t=e.$implicit,s=n.XpG().$implicit,o=n.XpG(2),r=o.isAnswerselected(s.id,t.id),c=o.isCorrectAnswer(s.id,t.id);n.R7$(3),n.FCK("id","",s.id,"answer",t.id,""),n.R7$(),n.AVh("btn-success",r&&c)("btn-outline-primary",!r&&!c)("btn-outline-success",!r&&c)("btn-danger",r&&!c),n.FCK("for","",s.id,"answer",t.id,""),n.R7$(),n.SpI(" ",t.option," "),n.R7$(),n.vxM(!c&&r?6:c&&r?7:-1)}}function f(i,e){if(1&i&&(n.j41(0,"h3"),n.EFF(1),n.k0s(),n.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),n.EFF(6),n.k0s(),n.j41(7,"form",5),n.Z7z(8,b,8,16,"div",6,l),n.k0s()()()()),2&i){const t=e.$implicit,s=e.$index;n.R7$(),n.SpI("Question ",s,""),n.R7$(5),n.SpI(" ",t.text," "),n.R7$(2),n.Dyx(t.answers)}}function h(i,e){if(1&i&&(n.j41(0,"h2"),n.EFF(1,"Result"),n.k0s(),n.j41(2,"h3"),n.EFF(3),n.k0s(),n.j41(4,"h3"),n.EFF(5),n.k0s(),n.Z7z(6,f,10,2,null,null,l)),2&i){const t=n.XpG();n.R7$(3),n.JRh(t.quiz.title),n.R7$(2),n.Lme(" Score: ",t.getScore()," (",t.getDetailScore(),") "),n.R7$(),n.Dyx(t.quiz.questions)}}function C(i,e){1&i&&(n.j41(0,"div",0)(1,"span",11),n.EFF(2,"Loading..."),n.k0s()())}let F=(()=>{class i{quizService=(0,n.WQX)(d.p);route=(0,n.WQX)(_.nX);quiz;submission;loading=(0,n.vPA)(!0);ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t&&this.quizService.fetchSubmission(t).subscribe(s=>{this.submission=s,this.quizService.fetchQuiz(s.quizId).subscribe(o=>{console.log(s,o),this.quiz=o,this.loading.set(!1)})})}isAnswerselected(t,s){return this.submission?.answers[t].has(s)}isCorrectAnswer(t,s){return this.submission?.correctAnswers[t].has(s)}getScore(){return 100*this.submission.score}getDetailScore(){return`${this.submission.score*this.quiz.questions.length} / ${this.quiz.questions.length}`}static \u0275fac=function(s){return new(s||i)};static \u0275cmp=n.VBU({type:i,selectors:[["app-submission"]],standalone:!0,features:[n.aNF],decls:2,vars:1,consts:[["role","status",1,"spinner-border","text-primary"],[1,"container","mt-4"],[1,"card","shadow","p-3","mb-4"],[1,"card-body"],[1,"card-title","border","rounded","p-3",2,"white-space","pre-wrap","max-height","500px","overflow-y","auto"],[1,"d-flex","flex-column","gap-3"],[1,"btn-group"],["type","checkbox","disabled","",1,"btn-check",3,"id"],[1,"btn","btn-lg","text-start","border-2","align-content-center",3,"for"],["aria-label","Wrong answer",1,"d-flex","justify-content-center","align-items-center","display-5","ms-2","text-danger"],["aria-label","Correct answer or not selected",1,"d-flex","justify-content-center","align-items-center","display-5","ms-2","text-success"],[1,"visually-hidden"]],template:function(s,o){1&s&&n.DNE(0,h,8,3)(1,C,3,0,"div",0),2&s&&n.vxM(!o.loading()&&o.submission&&o.quiz?0:1)},styles:[".btn-check[_ngcontent-%COMP%]:disabled + .btn[_ngcontent-%COMP%]{pointer-events:none;cursor:default;opacity:1}"]})}return i})()}}]);