import{a as mt}from"./chunk-5SAHMNYK.js";import{a as Z,h as tt,i as et,j as it,k as nt,l as ot,m as st,o as at,p as rt}from"./chunk-4DZUVPES.js";import{d as K,g as X,j as Y}from"./chunk-E6KXUOZS.js";import{a as T}from"./chunk-52HVTN6S.js";import{f as J}from"./chunk-L4DC4MBR.js";import{Ab as U,Bb as k,Cb as V,Db as $,Eb as N,Fb as D,Gb as h,Ia as a,Kb as I,Lb as z,Mb as Q,Pa as W,S as B,Sa as b,Xa as g,bb as C,ca as v,dc as G,eb as y,ec as L,gb as A,hb as R,ib as n,ja as u,jb as e,ka as p,kb as M,lb as f,nb as x,ob as d,ua as P,va as E,wb as H,xb as i,yb as _,zb as c}from"./chunk-PU24A2QT.js";var ut=(o,s)=>s.codingSubmissionId;function pt(o,s){if(o&1){let t=f();n(0,"button",2),x("click",function(){let r=u(t).$implicit,l=d();return p(l.onSubmissionClick(r))}),n(1,"div",3)(2,"h5",4),i(3),e(),n(4,"small"),i(5),I(6,"date"),e()(),n(7,"p",4),i(8),e(),n(9,"small"),i(10),e()()}if(o&2){let t=s.$implicit;a(3),c("Submission #",t.codingSubmissionId,""),a(2),_(Q(6,5,t.date,"short")),a(3),c("Language: ",t.language,""),a(2),U("Status: ",t.status," | Score: ",t.score,"/100")}}var q=class o{codingQuestionsService=v(T);questionId=E.required();codingSubmissions$;submissionSelected=P();constructor(){this.codingSubmissions$=Z(this.questionId).pipe(B(s=>this.codingQuestionsService.fetchAllSubmissionsByQuestion(s)))}onSubmissionClick(s){this.submissionSelected.emit(s)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=b({type:o,selectors:[["app-coding-submissions-list"]],inputs:{questionId:[1,"questionId"]},outputs:{submissionSelected:"submissionSelected"},decls:4,vars:2,consts:[[1,"list-group"],["type","button",1,"list-group-item","list-group-item-action"],["type","button",1,"list-group-item","list-group-item-action",3,"click"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"]],template:function(t,m){t&1&&(n(0,"div",0),A(1,pt,11,8,"button",1,ut),I(3,"async"),e()),t&2&&(a(),R(z(3,0,m.codingSubmissions$)))},dependencies:[G,L],encapsulation:2,changeDetection:0})};function gt(o,s){if(o&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4"),i(6,"Submission Details"),e()(),n(7,"div",5)(8,"h5",6),i(9),e(),n(10,"div",7)(11,"strong"),i(12,"Status:"),e(),i(13),e(),n(14,"div",7)(15,"strong"),i(16,"Submitted on:"),e(),i(17),I(18,"date"),e(),n(19,"div",7)(20,"strong"),i(21,"Score:"),e(),i(22),e(),n(23,"div",7)(24,"strong"),i(25,"Language:"),e(),i(26),e(),n(27,"div",7)(28,"strong"),i(29,"User Code:"),e(),n(30,"pre",8),i(31),e()()()(),n(32,"div",9)(33,"div",4)(34,"h5"),i(35,"Additional Information"),e()(),n(36,"ul",10)(37,"li",11)(38,"strong"),i(39,"Question ID:"),e(),i(40),e(),n(41,"li",11)(42,"strong"),i(43,"User ID:"),e(),i(44),e()()()(),n(45,"div",12)(46,"div",3)(47,"div",4)(48,"h5"),i(49,"Actions"),e()(),n(50,"div",5)(51,"button",13),i(52," Download Code "),e(),n(53,"button",14),i(54," Review Submission "),e()()()()()()),o&2){d();let t=h(0);a(9),c(" Submission ID: ",t.codingSubmissionId," "),a(4),c(" ",t.status," "),a(4),c(" ",Q(18,8,t.date,"medium")," "),a(5),c(" ",t.score,"/100 "),a(4),c(" ",t.language," "),a(5),c("",t.userCode,`
            `),a(9),c(" ",t.questionId," "),a(4),c(" ",t.userId," ")}}var O=class o{submissionInput=E();static \u0275fac=function(t){return new(t||o)};static \u0275cmp=b({type:o,selectors:[["app-coding-submission-details"]],inputs:{submissionInput:[1,"submissionInput"]},decls:2,vars:2,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-md-8"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"mb-3"],[1,"bg-light","p-3"],[1,"card","mt-3"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"col-md-4"],[1,"btn","btn-primary","btn-block","mb-2"],[1,"btn","btn-success","btn-block","mb-2"]],template:function(t,m){if(t&1&&(N(0),g(1,gt,55,11,"div",0)),t&2){let r=D(m.submissionInput());a(),y(r?1:-1)}},dependencies:[L],encapsulation:2,changeDetection:0})};function bt(o,s){if(o&1&&(n(0,"h2",17),i(1),e(),n(2,"div",18)(3,"div",19)(4,"p",13),i(5),e()()()),o&2){d(2);let t=h(0);a(),_(t.title),a(4),_(t.description)}}function Ct(o,s){if(o&1){let t=f();n(0,"app-coding-submissions-list",20),x("submissionSelected",function(r){u(t);let l=d(2);return p(l.selectSubmission(r))}),e()}if(o&2){d(2);let t=h(0);C("questionId",t.id)}}function St(o,s){if(o&1&&M(0,"app-coding-submission-details",21),o&2){let t=d(2);C("submissionInput",t.currentSubmission)}}function vt(o,s){if(o&1){let t=f();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"ul",4,0),$("activeIdChange",function(r){u(t);let l=d();return V(l.active,r)||(l.active=r),p(r)}),n(5,"li",5)(6,"button",6),i(7,"Description"),e(),g(8,bt,6,2,"ng-template",7),e(),n(9,"li",8)(10,"button",6),i(11,"History"),e(),g(12,Ct,1,1,"ng-template",7),e(),n(13,"li",9)(14,"button",6),i(15,"Submissions"),e(),g(16,St,1,1,"ng-template",7),e()(),M(17,"div",10),e(),n(18,"div",11)(19,"div",12)(20,"h5",13),i(21,"Code Editor"),e(),n(22,"button",14),x("click",function(){u(t);let r=d();return p(r.submitSolution())}),i(23," Submit Solution "),e()(),n(24,"div",15)(25,"ngx-monaco-editor",16),$("ngModelChange",function(r){u(t);let l=d();return V(l.code,r)||(l.code=r),p(r)}),e()()()()()}if(o&2){let t=H(4),m=d();a(3),C("destroyOnHide",!1),k("activeId",m.active),a(14),C("ngbNavOutlet",t),a(8),C("options",m.editorOptions),k("ngModel",m.code)}}var ct=class o{codingQuestionsService=v(T);codingQuestion=W(null);active="description";currentSubmission;route=v(J);ngOnInit(){let s=this.route.snapshot.paramMap.get("id");s&&this.codingQuestionsService.getCodingQuestion(s).subscribe(t=>{this.codingQuestion.set(t),this.code=this.generateFunctionTemplate(t,"java")})}editorOptions={language:"java"};code="";submitSolution(){this.codingQuestion&&this.codingQuestionsService.submitCodingQuestion(this.codingQuestion().id,"java",this.code)}selectSubmission(s){this.currentSubmission=s,this.active="submission-detail"}generateFunctionTemplate(s,t){let{functionName:m,functionSignatures:r}=s,l=r.find(S=>S.language.toLowerCase()===t.toLowerCase());if(!l)throw new Error(`Function signature not found for language: ${t}`);let{arguments:j,returnType:F}=l;if(t.toLowerCase()==="java"){let S=j.map(w=>`${w.type} ${w.name}`).join(", ");return`
public class Solution {
    public ${F} ${m}(${S}) {
        // TODO: Implement this function
        return null; // Replace with appropriate return value
    }
}`}else if(t.toLowerCase()==="python"){let S=j.map(w=>w.name).join(", ");return`
def ${m}(${S}) -> ${F}:
    """
    TODO: Implement this function
    """
    pass  # Replace with appropriate logic`}throw new Error(`Unsupported language: ${t}`)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=b({type:o,selectors:[["app-coding-question-start"]],decls:2,vars:2,consts:[["nav","ngbNav"],[1,"container-fluid","vh-100","d-flex","flex-column"],[1,"row","flex-grow-1"],[1,"col-md-6","bg-light","overflow-auto","p-3"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","destroyOnHide","activeId"],["ngbNavItem","description"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavItem","submissions-list"],["ngbNavItem","submission-detail"],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-md-6","d-flex","flex-column"],[1,"bg-dark","text-white","p-3","d-flex","align-items-center","justify-content-between"],[1,"mb-0"],[1,"btn","btn-success",3,"click"],[1,"flex-grow-1","overflow-hidden"],[1,"h-100","w-100",3,"ngModelChange","options","ngModel"],[1,"mb-3"],[1,"card"],[1,"card-body"],[3,"submissionSelected","questionId"],[3,"submissionInput"]],template:function(t,m){if(t&1&&(N(0),g(1,vt,26,5,"div",1)),t&2){let r=D(m.codingQuestion());a(),y(r?1:-1)}},dependencies:[mt,Y,K,X,rt,tt,nt,it,et,st,ot,at,q,O],encapsulation:2,changeDetection:0})};export{ct as CodingQuestionStartComponent};
