import{a as H}from"./chunk-YPZB4BDE.js";import{a as k}from"./chunk-2QQHY5FA.js";import{a as w}from"./chunk-UK7DRNUM.js";import"./chunk-A3T46DET.js";import{g as E,i as T,j as D}from"./chunk-HB4LE65O.js";import{Ia as s,Jb as Q,L as z,Sa as u,Xa as f,bb as c,ca as m,eb as b,gb as _,hb as h,ib as o,ja as x,jb as n,ka as C,kb as g,lb as y,nb as q,ob as l,t as v,va as S,xb as r,yb as p,zb as I}from"./chunk-I64YHXKP.js";var j=(t,i)=>i.id,R=t=>["/submissions",t];function V(t,i){if(t&1&&(o(0,"a",1)(1,"span"),r(2),n(),o(3,"span",2),r(4),n()()),t&2){let e=i.$implicit;c("routerLink",Q(3,R,e.id)),s(2),p(e.id),s(2),p(e.score)}}var d=class t{submissions=S.required();static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-quiz-history"]],inputs:{submissions:[1,"submissions"]},decls:3,vars:0,consts:[[1,"list-group"],["aria-current","true",1,"list-group-item","list-group-item-action","d-flex","justify-content-between",3,"routerLink"],[1,"badge","bg-primary"]],template:function(e,a){e&1&&(o(0,"div",0),_(1,V,5,5,"a",1,j),n()),e&2&&(s(),h(a.submissions()))},dependencies:[D],encapsulation:2,changeDetection:0})};function A(t,i){if(t&1&&(o(0,"div")(1,"h4"),r(2,"Submission history"),n(),g(3,"app-quiz-history",6),n()),t&2){let e=l(2);s(3),c("submissions",e.submissions)}}function G(t,i){t&1&&(o(0,"h5",5),r(1,"You've never taken this quiz"),n())}function P(t,i){if(t&1){let e=y();o(0,"h5",1),r(1),n(),o(2,"p",2),r(3),n(),o(4,"p"),r(5),n(),o(6,"button",3),q("click",function(){x(e);let M=l();return C(M.start())}),r(7," TAKE THIS TEST "),n(),o(8,"div",4),f(9,A,4,1,"div")(10,G,2,0,"h5",5),n()}if(t&2){let e=l();s(),p(e.quiz.title),s(2),I("Category: ",e.quiz.category,""),s(2),p(e.quiz.explanation),s(4),b(e.submissions.length>0?9:10)}}var L=class t{quiz;submissions=[];route=m(E);quizService=m(w);submissionService=m(H);router=m(T);spinner=m(k);ngOnInit(){let i=this.route.snapshot.paramMap.get("id");i&&(this.spinner.openGlobalSpinner(),v([this.quizService.fetchQuizInfo(i),this.submissionService.fetchSubmissionsIdList(i)]).pipe(z(()=>{this.spinner.closeGlobalSpinner()})).subscribe(([e,a])=>{this.quiz=e,this.submissions=a}))}start(){this.router.navigate(["take"],{relativeTo:this.route})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-quiz-info"]],decls:2,vars:1,consts:[[1,"d-flex","justify-content-center","align-items-center","container","flex-column","gap-3"],[1,"mb-1"],[1,"mb-0","text-muted"],[1,"btn","btn-lg","btn-primary",3,"click"],[1,"mt-5","w-75","text-center"],[1,"text-muted"],[3,"submissions"]],template:function(e,a){e&1&&(o(0,"div",0),f(1,P,11,4),n()),e&2&&(s(),b(a.quiz?1:-1))},dependencies:[d],encapsulation:2,changeDetection:0})};export{L as QuizInfoComponent};
