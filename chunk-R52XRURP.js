import{b as I}from"./chunk-L2ZORDE4.js";import"./chunk-CVNQIEP5.js";import"./chunk-2QQHY5FA.js";import{d as x,e as E,f as N,g as T,h as F,i as P,j as R,k}from"./chunk-A3T46DET.js";import{g as C,i as A,j as _,k as w}from"./chunk-HB4LE65O.js";import{Ia as l,Sa as c,Xa as g,bb as h,ca as a,eb as f,ib as i,ja as m,jb as t,ka as d,kb as u,lb as b,nb as v,oa as p,wb as y,xb as r,yb as S}from"./chunk-I64YHXKP.js";function D(o,e){o&1&&(i(0,"a",13),r(1," Signup "),t())}function O(o,e){o&1&&(i(0,"a",14),r(1," Already have an account? "),t())}var L=class o{authService=a(I);route=a(C);router=a(A);destroyRef=a(p);isSubmitting=!1;title="";authType="";ngOnInit(){this.authType=this.route.snapshot.url.at(-1).path,this.title=this.authType==="signin"?"Sign in":"Sign up"}onSubmit(e){this.isSubmitting=!0,this.authType==="signin"?this.login(e.value):this.signup(e.value)}login(e){this.authService.login(e).subscribe({next:()=>void this.router.navigate(["/"]),error:n=>{console.error(n),this.isSubmitting=!1}})}signup(e){this.authService.register(e).subscribe({next:()=>void this.router.navigate(["/auth/signin"]),error:n=>{console.error(n),this.isSubmitting=!1}})}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=c({type:o,selectors:[["app-auth-page"]],decls:20,vars:3,consts:[["myForm","ngForm"],[1,"container","mt-5"],[1,"justify-content-center"],[1,"text-center","mb-5","display-4"],[1,"card","p-5","shadow-lg",3,"submit"],[1,"mb-4"],["for","login",1,"form-label","fs-4"],["type","text","name","login","id","login","aria-describedby","loginInput","placeholder","Enter your login","required","","ngModel","",1,"form-control","form-control-lg"],["for","password",1,"form-label","fs-4"],["type","password","name","password","id","password","aria-describedby","passwordInput","placeholder","Enter your password","required","","ngModel","",1,"form-control","form-control-lg"],[1,"d-grid","mb-4"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"text-center"],["routerLink","/auth/signup","routerLinkActive","active","aria-current","page",1,"btn","btn-secondary","btn-lg"],["routerLink","/auth/signin","routerLinkActive","active","aria-current","page",1,"btn","btn-link","fs-5"]],template:function(n,s){if(n&1){let M=b();i(0,"div",1)(1,"div",2)(2,"h1",3),r(3),t(),i(4,"form",4,0),v("submit",function(){m(M);let V=y(5);return d(s.onSubmit(V))}),i(6,"div",5)(7,"label",6),r(8,"Login"),t(),u(9,"input",7),t(),i(10,"div",5)(11,"label",8),r(12,"Password"),t(),u(13,"input",9),t(),i(14,"div",10)(15,"button",11),r(16," Submit "),t()(),i(17,"div",12),g(18,D,2,0,"a",13)(19,O,2,0,"a",14),t()()()()}n&2&&(l(3),S(s.title),l(12),h("disabled",s.isSubmitting),l(3),f(s.authType==="signin"?18:19))},dependencies:[k,P,x,E,N,R,F,T,_,w],encapsulation:2})};export{L as AuthPageComponent};
