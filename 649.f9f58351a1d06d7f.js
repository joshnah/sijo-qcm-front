"use strict";(self.webpackChunksijo_qcm_front=self.webpackChunksijo_qcm_front||[]).push([[649],{5649:(g,u,a)=>{a.r(u),a.d(u,{SubmissionComponent:()=>F});var n=a(4438),d=a(593),_=a(749);const l=(t,e)=>e.id;function m(t,e){1&t&&(n.j41(0,"span",10),n.EFF(1," \u274c "),n.k0s())}function p(t,e){1&t&&(n.j41(0,"span",11),n.EFF(1," \u2713 "),n.k0s())}function b(t,e){if(1&t&&(n.SS7(0)(1),n.j41(2,"div",7),n.nrm(3,"input",8),n.j41(4,"label",9),n.EFF(5),n.k0s(),n.DNE(6,m,2,0,"span",10)(7,p,2,0,"span",11),n.k0s()),2&t){const i=e.$implicit,s=n.XpG().$implicit,o=n.XpG(2),r=o.isAnswerselected(s.id,i.id),c=o.isCorrectAnswer(s.id,i.id);n.R7$(3),n.FCK("id","",s.id,"answer",i.id,""),n.R7$(),n.AVh("btn-success",r&&c)("btn-outline-primary",!r&&!c)("btn-outline-success",!r&&c)("btn-danger",r&&!c),n.FCK("for","",s.id,"answer",i.id,""),n.R7$(),n.SpI(" ",i.option," "),n.R7$(),n.vxM(!c&&r?6:c&&r?7:-1)}}function f(t,e){if(1&t&&(n.j41(0,"h3"),n.EFF(1),n.k0s(),n.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),n.EFF(6),n.k0s(),n.j41(7,"form",6),n.Z7z(8,b,8,16,"div",7,l),n.k0s()()()()),2&t){const i=e.$implicit,s=e.$index;n.R7$(),n.SpI("Question ",s,""),n.R7$(5),n.SpI(" ",i.text," "),n.R7$(2),n.Dyx(i.answers)}}function h(t,e){if(1&t&&(n.j41(0,"h2"),n.EFF(1,"Result"),n.k0s(),n.j41(2,"h3"),n.EFF(3),n.k0s(),n.j41(4,"h3"),n.EFF(5),n.k0s(),n.Z7z(6,f,10,2,null,null,l)),2&t){const i=n.XpG();n.R7$(3),n.JRh(i.quiz.title),n.R7$(2),n.Lme(" Score: ",i.getScore()," (",i.getDetailScore(),") "),n.R7$(),n.Dyx(i.quiz.questions)}}function C(t,e){1&t&&(n.j41(0,"div",1)(1,"span",12),n.EFF(2,"Loading..."),n.k0s()())}let F=(()=>{class t{quizService=(0,n.WQX)(d.p);route=(0,n.WQX)(_.nX);quiz;submission;loading=(0,n.vPA)(!0);ngOnInit(){const i=this.route.snapshot.paramMap.get("id");i&&this.quizService.fetchSubmission(i).subscribe(s=>{this.submission=s,this.quizService.fetchQuizWithQuestions(s.quizId).subscribe(o=>{this.quiz=o,this.loading.set(!1)})})}isAnswerselected(i,s){return this.submission?.answers[i].has(s)}isCorrectAnswer(i,s){return this.submission?.correctAnswers[i].has(s)}getScore(){return 100*this.submission.score}getDetailScore(){return`${this.submission.score*this.quiz.questions.length} / ${this.quiz.questions.length}`}static \u0275fac=function(s){return new(s||t)};static \u0275cmp=n.VBU({type:t,selectors:[["app-submission"]],standalone:!0,features:[n.aNF],decls:3,vars:1,consts:[[1,"flex-column","text-center"],["role","status",1,"spinner-border","text-primary"],[1,"container","mt-4"],[1,"card","shadow","p-3","mb-4"],[1,"card-body"],[1,"card-title","border","rounded","p-3",2,"white-space","pre-wrap","max-height","500px","overflow-y","auto"],[1,"d-flex","flex-column","gap-3"],[1,"btn-group"],["type","checkbox","disabled","",1,"btn-check",3,"id"],[1,"btn","btn-lg","text-start","border-2","align-content-center",3,"for"],["aria-label","Wrong answer",1,"d-flex","justify-content-center","align-items-center","display-5","ms-2","text-danger"],["aria-label","Correct answer or not selected",1,"d-flex","justify-content-center","align-items-center","display-5","ms-2","text-success"],[1,"visually-hidden"]],template:function(s,o){1&s&&(n.j41(0,"div",0),n.DNE(1,h,8,3)(2,C,3,0,"div",1),n.k0s()),2&s&&(n.R7$(),n.vxM(!o.loading()&&o.submission&&o.quiz?1:2))},styles:[".btn-check[_ngcontent-%COMP%]:disabled + .btn[_ngcontent-%COMP%]{pointer-events:none;cursor:default;opacity:1}"]})}return t})()}}]);