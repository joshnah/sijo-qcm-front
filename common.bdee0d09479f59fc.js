"use strict";(self.webpackChunksijo_qcm_front=self.webpackChunksijo_qcm_front||[]).push([[76],{593:(z,u,r)=>{r.d(u,{p:()=>c});var n=r(4438),o=r(7673),a=r(1562),h=r(8141);let c=(()=>{class e{http=(0,n.WQX)(a.Qq);quizzesSignal=(0,n.vPA)([]);quizzes=this.quizzesSignal.asReadonly();submit(t,s){return this.http.post("/submissions",{answers:this.getSerializedAnswers(t),quizId:s})}fetchQuizzes(){this.http.get("/quizzes").pipe((0,h.M)(t=>{this.quizzesSignal.set(t)})).subscribe({error:t=>console.error("Error loading quizzes:",t)})}fetchFullQuizById(t){return this.http.get(`/quizzes/${t}`)}fetchQuizInfo(t){const s=this.quizzes().find(i=>i._id===t);return s?(0,o.of)(s):this.http.get(`/quizzes/${t}?type=info`)}fetchQuizWithQuestions(t){return this.http.get(`/quizzes/${t}?type=questions`)}createQuiz(t){return this.http.post("/quizzes",t)}updateQuiz(t){return this.http.put(`/quizzes/${t._id}`,t)}deleteQuiz(t){return this.http.delete(`/quizzes/${t._id}`)}getSerializedAnswers(t){return Object.fromEntries(Object.entries(t).map(([s,i])=>[s,Array.from(i)]))}static \u0275fac=function(s){return new(s||e)};static \u0275prov=n.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},4744:(z,u,r)=>{r.d(u,{E:()=>c});var n=r(1562),o=r(4438),a=r(6354),h=r(9437);let c=(()=>{class e{http=(0,o.WQX)(n.Qq);constructor(){}fetchSubmissionsIdList(t){return this.http.get(`/quizzes/${t}/submissions`)}fetchSubmission(t){return this.http.get(`/submissions/${t}`).pipe((0,a.T)(s=>(s.answers=this.transformToQuizAnswer(s.answers),s.correctAnswers=this.transformToQuizAnswer(s.correctAnswers),s)),(0,h.W)(s=>{throw"Error while fetching /submissions "+s}))}transformToQuizAnswer(t){const s={};for(const[i,_]of Object.entries(t))s[i]=new Set(_);return s}static \u0275fac=function(s){return new(s||e)};static \u0275prov=o.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()}}]);